# Github:-Custom-wiki-sidebar

_Go to_ [_Step \#4_](github:-custom-wiki-sidebar.md#step-4-if-you-want-to-update-the-sidebar-gain) _if you've done this before and just need to re-build the sidebar._

The use of an "intranet" in government enables the creation of silos. It provides a "safe" place to accumulate hard to access information. We need intranets for some sensitive information. But in general, most content on government intranets is already public information. For our team, we'd prefer to default towards making our technical documentation available to the global web so its easier for us to find and maintain.

## Why Github Wiki

Github Wiki can be a great tool for documentation. You can edit pages in the Github editor UI which is a great browser-based way to learn Markdown syntax.

## The problem with default sidebars

When you start churning out Github Wiki pages as Markdown files, you quickly run into the 15 page display limit that Github's wiki sidebar has as a default.

\[\[/images/too\_many\_pages.png\]\]

The goal of this tutorial is to fix this problem by adding a custom sidebar. We're going to use Javascript & our command line to achieve this.

## github-wiki-sidebar

The secret sauce for building a custom sidebar is this npm package called [github-wiki-sidebar](https://github.com/adriantanasa/github-wiki-sidebar). "npm" packages are Javascript code that can either run independently in the command-line as a program \(aka CLI, command-line interface\) or they can be added to larger JS code bases as plugins.

github-wiki-sidebar lets you run code that loops over your current list of wiki pages and organize them into a nested list. This is a very simple way to improve the navigational abilities for someone looking through your technical documentation.

![github wiki sidebar generated by github-wiki-sidebar](https://raw.githubusercontent.com/wiki/adriantanasa/github-wiki-sidebar/images/github-wiki-sidebar-generator.png)

## Step 1: Install the `github-wiki-sidebar` program.

This program is a CLI \(command-line interface\) meaning it is built to run in the command line.

I use iTerm2 to run CLIs on my Mac. Terminal is the command line app that comes out of the box with Mac. For Windows users, I would recommend [PowerShell](https://docs.microsoft.com/en-us/powershell/) or [Hyper](https://hyper.is).

_In order to install npm packages like github-wiki-sidebar, you need to have npm installed first. Some operating systems now come with a version of node.js & npm preinstalled. Here's more info about how to install npm._ [https://www.npmjs.com/get-npm](https://www.npmjs.com/get-npm)

In your command line app use the npm install script:

```bash
npm install github-wiki-sidebar -g
```

Once the package is finished, it should look something like this:

\[\[/images/complete\_install.png\]\]

## Step 2: Clone your wiki locally

Now you need to bring the Markdown files that make up your your in GitHub onto your local machine. We call this cloning the wiki as a local repository. At the bottom right corner of the page under the sidebar, you can find this copy/paste widget.

\[\[/images/clone\_local\_wiki.png\]\]

Copy that code and paste it into your command line and use it with the `git clone` command, like so:

```bash
git clone https://github.com/cityofaustin/atd-data-tech.wiki.git
```

Then press enter. This will bring down the current state of the wiki from GitHub to your local file system.

\[\[/images/clone\_complete.png\]\]

Now you need to "change directories" to be inside the folder you just downloaded. We use the `cd` command for this where the argument is the name of your folder. In our case, its `atd-data-tech.wiki`

```bash
cd atd-data-tech.wiki
```

Now if you simply type `ls` in the command line, you should see a listing of all the files that make up your wiki:

\[\[/images/ls\_wiki.png\]\]

## Step 3: Run the CLI program

Ok, so we have github-wiki-sidebar installed and we also have the wiki files downloaded locally. Now we can run the sidebar generating program locally. All you have to do is run `github-wiki-sidebar --git-push`.

This starts a set of prompts that gives you options about:

* what category separator to use \(default is `:`\)
* what format to use for page links
* what template to use for the `_Sidebar.md` file that the CLI generates.
* which pages to exclude
* how to order pages

For most of these, I just use the default by pressing my `Enter` key.

Once the job is complete, the new Sidebar code should be pushed back to Github Wikis and you earned yourself a taco ðŸŒ®.

## Step 4: If You Want to Update the Sidebar Again

So, you've made another change to re-generate the sidebar.

1. Navigate to the `atd-data-tech.wiki` directory on your file system.
2. Pull down the latest version of the wiki"

```bash
git pull
```

1. Generate the new sidebar and push back to Github:

```bash
github-wiki-sidebar --git-push
```

